<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>DataCollector</title>

    <script src="plugins/vue_product.js"></script>

    <!-- Insert this line above script imports  -->
    <script>
        if (typeof module === 'object') {
            window.module = module;
            module = undefined;
        }
    </script>
    <!-- normal script imports etc  -->
    <script src="plugins/highcharts.js"></script>
    <script src="plugins/highcharts-export.js"></script>
    <script src="plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
    <!-- Insert this line after script imports -->
    <script>if (window.module) module = window.module;</script>

    <script src="plugins/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <link href="plugins/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <link href="plugins/font-awesome-5.6.0/css/all.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="plugins/buttons.css" />

    <link rel="stylesheet" href="css/style.css" />

</head>

<body>
    <div class="container-fluid" id="app">
        <div class="row" style="-webkit-app-region: drag">
            <a class="control_btn shutdown_btn text-center" @click="control_btn('shutdown');"><i class="fa fa-times"></i></a>
            <a class="control_btn maximize_btn text-center" @click="control_btn('max');"><i class="fa fa-window-maximize"></i></a>
            <a class="control_btn minimize_btn text-center" @click="control_btn('mini')"><i class="fa fa-window-minimize"></i></a>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <div class="container-fluid" style="-webkit-user-select:none">
                    <h2 class="heavy_text">启动检测</h2>
                    <p class="mid_text">输入样品信息，开始自动检测</p>
                    <form class="form-inline mid_text">
                        <div class="form-group">
                            <label for="sampleid">样品编号</label>
                            <input v-model="input_si" type="text" class="form-control" id="sampleid" placeholder="编号">
                        </div>
                        <div class="form-group">
                            <label for="pigment">色素含量(g)</label>
                            <input v-model="input_pi" type="text" class="form-control" id="pigment" placeholder="色素">
                        </div>
                        <div class="form-group">
                            <label for="weight">总重量(g)</label>
                            <input v-model="input_wt" type="text" class="form-control" id="weight" placeholder="总重">
                        </div>
                        <div class="form-group">
                            <label for="temp">温度</label>
                            <input v-model="input_tm" type="text" class="form-control" id="temp" placeholder="温度">
                        </div>
                        <div class="form-group">
                            <label for="hm">湿度</label>
                            <input v-model="input_hm" type="text" class="form-control" id="hm" placeholder="湿度">
                        </div>
                    </form>
                    <br />
                    <button type="button" :class="startBtnClass" @click="set_task();">
                        <i key="processing" v-if="task_processing" class="fas fa-cog icon-spin"></i>
                        <span key="free" v-else>开始检测</span>
                    </button>
                    <button type="button" class="button button-royal button-circle mid_text button-longshadow-left"
                        @click="get_all_results();"><i class="fas fa-sync-alt"></i></button>
                    <button type="button" class="button button-royal button-circle mid_text button-longshadow-left"
                        @click="refresh_max_value();"><i class="fas fa-filter"></i></button>
                    <button type="button" class="button button-circle button-royal mid_text button-longshadow-left"
                        @click="compareChart();"><i class="fa fa-chart-line"></i></i></button>
                    <br />
                </div>
            </div>
        </div>
        <div>
            <div class="col-xs-12">
                <hr />
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12">

                <div class="container-fluid">
                    <div class="table-responsive mid_text">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>记录ID</th>
                                    <th>样品ID</th>
                                    <th>扫描速率</th>
                                    <th>结果编号</th>
                                    <th>温度</th>
                                    <th>湿度</th>
                                    <th>色素质量</th>
                                    <th>总重</th>
                                    <th>色素含量(万分之一)</th>
                                    <th>结果文件</th>
                                    <th>生成时间</th>
                                    <th>编辑</th>
                                    <th>对比</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="data_table" :class="table_item_max_warning(item[0])" v-for="item in sorted_list">
                                    <td v-for="con in item">{{con}}</td>
                                    <td>
                                        <button @click="show_edit_block(item[0]);" class="button button-large button-inverse button-border button-circle button-tiny"><i
                                                class="fa fa-edit"></i></button>
                                    </td>
                                    <td>
                                        <input :value="item[0]" v-model="compareList" type="checkbox">
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="donate_tip" tabindex="-1" role="dialog" aria-labelledby="donate_msg_label">
            <div class="modal-dialog" role="document">
                <div class="modal-content msg_dialog">
                    <div class="modal-header text-center msg_header">
                        <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> -->
                        <p class="modal-title heavy_text" id="donate_msg_label">编辑</p>
                    </div>
                    <div class="modal-body msg_body text-center">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-xs-12">
                                    <form class="form mid_text">
                                        <div class="form-group">
                                            <label for="sampleid">样品编号</label>
                                            <input v-model="change_si" type="text" class="form-control" id="sampleid"
                                                placeholder="编号">
                                        </div>
                                        <div class="form-group">
                                            <label for="temp">温度</label>
                                            <input v-model="change_tm" type="text" class="form-control" id="temp"
                                                placeholder="温度">
                                        </div>
                                        <div class="form-group">
                                            <label for="hm">湿度</label>
                                            <input v-model="change_hm" type="text" class="form-control" id="hm"
                                                placeholder="湿度">
                                        </div>
                                        <div class="form-group">
                                            <label for="pigment">色素含量(g)</label>
                                            <input v-model="change_pi" type="text" class="form-control" id="pigment"
                                                placeholder="色素">
                                        </div>
                                        <div class="form-group">
                                            <label for="weight">总重量(g)</label>
                                            <input v-model="change_wt" type="text" class="form-control" id="weight"
                                                placeholder="总重">
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer msg_footer">
                        <button type="button" class="button button-action button-pill button-small msg_btn"
                            data-dismiss="modal" @click="edit_item">确定</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade bs-example-modal-lg" id="graph_tip" tabindex="-1" role="dialog" aria-labelledby="graph_msg_label">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content msg_dialog">
                    <div class="modal-header text-center msg_header">
                        <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> -->
                        <p class="modal-title heavy_text" id="graph_msg_label">比较</p>
                    </div>
                    <div class="modal-body msg_body text-center">
                        <div class="container-fluid" id="graph_container">

                        </div>
                    </div>
                    <div class="modal-footer msg_footer">
                        <button type="button" class="button button-action button-pill button-small msg_btn"
                            data-dismiss="modal">好</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/render.js" type="text/javascript">

    </script>

</body>

</html>